{
	"info": {
		"_postman_id": "9be65907-376f-44f0-b441-83df8bab987b",
		"name": "class3-module4-lab01-create",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "api.acme.com",
			"item": [
				{
					"name": "bigip1-Create-Test AS3 is running",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"pm.test(\"AS3 is Running\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"id": "b274f477-38b2-442d-b72b-3e321099ade2"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"",
									"pm.collectionVariables.set(\"APP_NAME\", \"api.acme.com\");",
									"pm.collectionVariables.set(\"PATH_NAME\", \"Application\");",
									"pm.collectionVariables.set(\"PARTITION_NAME\", \"Common\");",
									"pm.collectionVariables.set(\"DNS_RESOLVER_NAME\", \"internal-dns-resolver\");",
									"pm.collectionVariables.set(\"CLIENT_SSL_NAME\", \"acme.com\");",
									"",
									""
								],
								"type": "text/javascript",
								"id": "4ad12129-2a7f-4b21-9dcb-bfab1dc6daa9"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://10.1.1.4/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"4"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip1-Create-DNS Resolver",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"id": "9a4e116d-ddd9-4a57-8918-d7d4cd8315b5"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (responseCode.code === 200) {",
									"",
									"pm.test(\"DNS Resolver Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"DNS Resolver Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"id": "9f637387-a4af-4a6c-bdea-51d4445cb577"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"name\":\"{{DNS_RESOLVER_NAME}}\", \r\n \"forwardZones\": [\r\n                {\r\n                    \"name\": \".\",\r\n                    \"nameservers\": [\r\n                        {\r\n                            \"name\": \"10.1.20.7:53\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n}"
						},
						"url": {
							"raw": "https://10.1.1.4/mgmt/tm/net/dns-resolver",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"4"
							],
							"path": [
								"mgmt",
								"tm",
								"net",
								"dns-resolver"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip1-Create-Client Side SSL Profile",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (responseCode.code === 200) {",
									"",
									"pm.test(\"Client-side SSL Profile Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"Client-Side Profile Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"id": "992bc419-2f50-47d3-b106-f3578a1ffd34"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"id": "6a4a74a6-e143-4fc7-ab65-df6d4a676322"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"name\": \"{{CLIENT_SSL_NAME}}\",\r\n   \"cert\": \"/Common/acme.com-wildcard\",\r\n   \"key\": \"/Common/acme.com-wildcard\"\r\n}"
						},
						"url": {
							"raw": "https://10.1.1.4/mgmt/tm/ltm/profile/client-ssl/",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"4"
							],
							"path": [
								"mgmt",
								"tm",
								"ltm",
								"profile",
								"client-ssl",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-Create-Test AS3 is running",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"pm.test(\"AS3 is Running\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"id": "86d148fc-6ddb-4379-aec6-87564a00081e"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"id": "adf6ee48-26d3-46f1-a409-8cd295d11a7f"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"info"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-Create-DC1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (responseCode.code === 200) {",
									"pm.test(\"DC1 Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"DC1 Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									""
								],
								"type": "text/javascript",
								"id": "8dc6d80a-d500-4c2e-b816-5c7f993cd145"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"id": "384f8a39-06e2-4f52-880d-53b5601dddc4"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"name\":\"DC1\"\n}"
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/tm/gtm/datacenter",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"tm",
								"gtm",
								"datacenter"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-Create-bigip1 server",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (responseCode.code === 200) {",
									"",
									"pm.test(\"bigip1 server Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"bigip1 server Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									""
								],
								"type": "text/javascript",
								"id": "0e98edaf-c8b9-45b9-adcb-185088e0b1fa"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"id": "06903bc6-914e-40c0-b4bc-fe755b574869"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n            \"name\": \"bigip1.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.4\",\r\n                    \"deviceName\": \"bigip1.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"tm",
								"gtm",
								"server"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-Create-bigip5 server",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (responseCode.code === 200) {",
									"pm.test(\"bigip5 server Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"bigip5 server Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									""
								],
								"type": "text/javascript",
								"id": "613a638e-cfdc-4b5a-9e12-9a363cb97253"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"id": "dd4d8a13-4bbe-4cc3-912c-7346e9604628"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n            \"name\": \"bigip5.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.11\",\r\n                    \"deviceName\": \"bigip5.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"tm",
								"gtm",
								"server"
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-Create-Add api.acme.com VS to Server",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (responseCode.code === 200) {",
									"",
									"pm.test(\"Virtual Server added to Server\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"Virtual Server Exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});"
								],
								"type": "text/javascript",
								"id": "c455c886-e417-4ef0-bdea-a792285a9d37"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"id": "8a637fe6-c452-4c34-a60a-32141236c59e"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{APP_NAME}}\",\r\n\"destination\": \"10.1.10.102:443\"\r\n}"
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip1.f5lab.local/virtual-servers/",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"tm",
								"gtm",
								"server",
								"~Common~bigip1.f5lab.local",
								"virtual-servers",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "bigip5-Create-WideIP api.acme.com",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e87e935a-402e-465b-bcf1-93199a6b3287",
								"exec": [
									"var DNS_NAME = pm.collectionVariables.get(\"APP_NAME\");",
									"",
									"",
									"if (responseCode.code === 200) {",
									"",
									"pm.test(\"Wide IP \"+DNS_NAME+\" Created\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"} else ",
									"pm.test(\"Wide IP \"+DNS_NAME+\" exists\", function () {",
									"    pm.response.to.have.status(409);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "18dbb39b-1af3-4acc-b38d-d78ad96a3048",
								"exec": [
									"setTimeout(function(){}, 5000);",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "admin",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \"class\": \"ADC\",\r\n    \"schemaVersion\": \"3.6.0\",\r\n    \"id\": \"GSLB_Sample\",\r\n    \"{{APP_NAME}}\": {\r\n        \"class\": \"Tenant\",\r\n        \"Application\": {\r\n            \"class\": \"Application\",\r\n            \"template\": \"generic\",\r\n            \"testDomain\": {\r\n                \"class\": \"GSLB_Domain\",\r\n                \"domainName\": \"{{APP_NAME}}\",\r\n                \"resourceRecordType\": \"A\",\r\n                \"poolLbMode\": \"ratio\",\r\n                \"lastResortPool\": {\"use\": \"{{APP_NAME}}-pool\"},\r\n                \"lastResortPoolType\": \"A\",\r\n                \"pools\": [\r\n                              { \"use\": \"{{APP_NAME}}-pool\" }\r\n                ]\r\n            },\r\n            \"{{APP_NAME}}-pool\": {\r\n               \"class\": \"GSLB_Pool\",\r\n                \"enabled\": true,\r\n                \"lbModeAlternate\": \"ratio\",\r\n                \"lbModeFallback\": \"ratio\",\r\n                \"manualResumeEnabled\": false,\r\n                \"verifyMemberEnabled\": true,\r\n                \"members\": [\r\n                \t{\r\n                \t\"ratio\":10,\r\n                \t\"server\": {\r\n                \t\t\"bigip\": \"/Common/bigip1.f5lab.local\"\r\n                \t\t},\r\n                \t\t\"virtualServer\":\"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{APP_NAME}}\"\r\n                \t}\r\n                ],\r\n                \"resourceRecordType\": \"A\"\r\n            }\r\n        }\r\n    }\r\n \r\n}"
						},
						"url": {
							"raw": "https://10.1.1.11/mgmt/shared/appsvcs/declare",
							"protocol": "https",
							"host": [
								"10",
								"1",
								"1",
								"11"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "as.acme.com",
			"item": [
				{
					"name": "Set Collection Parameters",
					"item": [
						{
							"name": "set parameters",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Setting Parameters\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript",
										"id": "158f7845-b90f-4e1c-ac56-3a3a825f3c2d"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"//Define the number of virtual servers in this solution\r",
											"pm.collectionVariables.set(\"VIPS\", \"1\");\r",
											"\r",
											"//THis below varaibles are using for defining the tenant ID in AS3.  This should be the solution number. Example: solution1 or solution2.\r",
											"pm.collectionVariables.set(\"PATH_NAME\", \"lab01\");\r",
											"pm.collectionVariables.set(\"PARTITION_NAME\", \"class3-module4\");\r",
											"\r",
											"//This is the primary section defining the settings for the application the solutions is going to deploy\r",
											"pm.collectionVariables.set(\"DNS1_NAME\", \"as.acme.com\");\r",
											"pm.collectionVariables.set(\"VS1_NAME\", \"as\");\r",
											"pm.collectionVariables.set(\"CONFLICT1_NAME\", \"as.acme.com\");\r",
											"\r",
											"\r",
											"//This section is used when building two virtrual servers as part of a solutions or when a reference is needed to another solutions.  For example, if your solutions involved Federation you will need to define both the FQDNs for the both the SP and IDP.  \r",
											"pm.collectionVariables.set(\"DNS2_NAME\", \"template2.acme.com\");\r",
											"pm.collectionVariables.set(\"VS2_NAME\", \"template2\");\r",
											"\r",
											"\r",
											"//This variable is used for switching between standard and modern for logon pages, webtops, and other objects that support those changes.\r",
											"pm.collectionVariables.set(\"CUSTOM_TYPE\", \"modern\");\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"id": "7807ca4f-2540-49b2-a495-1ee49dcb159f"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://10.1.1.4/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"10",
										"1",
										"1",
										"4"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test For Solution Conflicts",
					"item": [
						{
							"name": "Detect Wide-IP Conflict",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var PARTITION_NAME = pm.collectionVariables.get(\"PARTITION_NAME\");",
											"var jsonData = pm.response.json();",
											"var EXIST = 0",
											"",
											"for (var i = 0; i < jsonData.items.length; i++) {",
											"    for (var x = 1; x < 10; x++) {",
											"        var DNS_NAME = pm.collectionVariables.get(\"CONFLICT\"+x+\"_NAME\");",
											"        if ( jsonData.items[i].name  === DNS_NAME ) {  ",
											"                if ( jsonData.items[i].partition  !== PARTITION_NAME+\"-gslb\" ) { ",
											"                    var EXIST = 1",
											"                    var EXISTING_SOLUTION = jsonData.items[i].partition.split(\"-\");",
											"                    pm.test( EXISTING_SOLUTION[0]+\" must be deleted before \"+PARTITION_NAME+\" can be deployed\", function () { ",
											"                        pm.expect(EXIST).to.be.a(\"0\");     ",
											"                    });",
											"                    postman.setNextRequest(\"null\");",
											"                ",
											"                }",
											"        }",
											"    }          ",
											"}",
											" ",
											"if (EXIST === 0) {",
											"    if (responseCode.code === 200) {",
											"        pm.test(\"No Existing Conficts Detected\" , function () {",
											"            pm.response.to.have.status(200);",
											"        }); ",
											"    }",
											"}",
											""
										],
										"type": "text/javascript",
										"id": "d0f473a8-0169-43a1-81c4-82c80ab9ed9a"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"id": "b5da7e7e-72e2-4b39-96f7-05b93ca9d4e8"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://10.1.1.11/mgmt/tm/gtm/wideip/a",
									"protocol": "https",
									"host": [
										"10",
										"1",
										"1",
										"11"
									],
									"path": [
										"mgmt",
										"tm",
										"gtm",
										"wideip",
										"a"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Start-loop-Datacenters",
					"item": [
						{
							"name": "start",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"\r",
											"\r",
											"pm.test(\"Starting configuratioon of Data Center \"+DC_COUNTER, function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "303d1324-9672-43ee-93de-5bb8c5bc999e"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
											"var DC2_APM = pm.environment.get(\"DC2_APM\");\r",
											"\r",
											"\r",
											"if (DC2_APM === 'true' && DC_COUNTER === '2') {\r",
											"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.5\");\r",
											"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP2_SCOPE\"));\r",
											"\r",
											"} else {\r",
											"pm.collectionVariables.set(\"BIGIP_MGMT\", \"10.1.1.4\");\r",
											"pm.collectionVariables.set(\"BIGIP_SCOPE\", pm.environment.get(\"BIGIP1_SCOPE\"));\r",
											"pm.collectionVariables.set('DC_COUNTER', '1' );\r",
											"\r",
											"\r",
											"}\r",
											""
										],
										"type": "text/javascript",
										"id": "5b19b960-ceb9-4a38-a498-450c54e6f625"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "660bc422-4b1d-4b17-97c8-e36a21503483"
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "6be5b55d-a41e-472d-94b0-d4968f3c64b2"
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Start Loop - Imperative Calls",
					"item": [
						{
							"name": "start-objects",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DNS_COUNTER = pm.collectionVariables.get(\"DNS_COUNTER\");\r",
											"\r",
											"if (!VS_COUNTER) {\r",
											"pm.collectionVariables.set(\"VS_COUNTER\", 1);\r",
											"pm.collectionVariables.set(\"DNS_COUNTER\", 1);\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var DNS_COUNTER = pm.collectionVariables.get(\"DNS_COUNTER\");\r",
											"pm.collectionVariables.set(\"VS_NAME\", pm.collectionVariables.get(\"VS\"+VS_COUNTER+\"_NAME\"));\r",
											"pm.collectionVariables.set(\"DNS_NAME\", pm.collectionVariables.get(\"DNS\"+DNS_COUNTER+\"_NAME\"));\r",
											" } else { \r",
											"\r",
											"pm.collectionVariables.set(\"VS_NAME\", pm.collectionVariables.get(\"VS\"+VS_COUNTER+\"_NAME\"));\r",
											"pm.collectionVariables.set(\"DNS_NAME\", pm.collectionVariables.get(\"DNS\"+DNS_COUNTER+\"_NAME\"));\r",
											"}\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"id": "87e5acae-1f7b-4749-96fc-c017ed5536f5"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"id": "a5033146-aadb-496d-9f38-94e34bb23b8d"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "a9439496-4ae5-40f9-85fb-f06ecb86144a"
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "48a0be68-c2c9-4696-aa67-8afdcfd2cf0e"
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "APM Objects",
					"item": [
						{
							"name": "start APM objects",
							"item": [
								{
									"name": "start-apm-1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
													"var VS = 1;\r",
													"\r",
													"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
													"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
													"\r",
													"\r",
													"\r",
													"\r",
													"if (VS === VS_COUNTER) {\r",
													"    pm.test(\"Creating APM objects for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (VS<=VS_COUNTER) {\r",
													"    pm.test(\"Proceeding to creation of  Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"    postman.setNextRequest(\"end-apm-\"+VS);\r",
													"} else {\r",
													"pm.test(\"Currently running loop \"+VS_COUNTER+\" for \"+ VS_NAME+\" in Data Center \"+DC_COUNTER+\". Continuing to next section \", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"    postman.setNextRequest(\"end-apm-\"+VS);\r",
													"}"
												],
												"type": "text/javascript",
												"id": "ed3e597c-97ee-4497-b0e5-a5dda836ad2c"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "f1f337b8-d0bf-49be-94eb-9fd1cae47441"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "AAA AD Servers",
							"item": [
								{
									"name": "bigip-create-node-10.1.20.7",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "a9c846df-35d2-4c36-a174-aefe8da2fde7"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"if (responseCode.code === 200) {",
													"    pm.test(\"Node 10.1.20.7 created\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"} else ",
													"    pm.test(\"Node 10.1.20.7 exists\", function () {",
													"        pm.response.to.have.status(409);",
													"    });"
												],
												"type": "text/javascript",
												"id": "e8ab0e7a-31a7-4420-a1b9-09170eefd298"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\"name\": \"10.1.20.7\",\r\n\"address\": \"10.1.20.7\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/node",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"ltm",
												"node"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-ad server pool",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
													"",
													"if (responseCode.code === 200) {",
													"    pm.test(VS_NAME+\"-ad-pool created\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"} else ",
													"    pm.test(VS_NAME+\"-ad-pool exists\", function () {",
													"        pm.response.to.have.status(409);",
													"    });",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"id": "d061e083-c59d-433a-bb7d-1016805b224e"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"{{VS_NAME}}-ad-pool\",\n\t\"members\":[\n\t\t{\n\t\t\"name\":\"10.1.20.7:0\",\n\t\t\"address\":\"10.1.20.7\",\n\t\t\"monitor\": \"/Common/gateway_icmp\"\n\t\t\t\n\t\t}\n\t\t]\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/pool/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"ltm",
												"pool",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-APM AAA AD Server",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
													"",
													"if (responseCode.code === 200) {",
													"    pm.test(\"AAA AD servers \"+VS_NAME+\"-ad-servers created\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"} else ",
													"    pm.test(\"AAA AD servers \"+VS_NAME+\"-ad-servers exists\", function () {",
													"        pm.response.to.have.status(409);",
													"    });"
												],
												"type": "text/javascript",
												"id": "8af572c6-6d80-4b74-bc6f-230042944d2d"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "56de174e-79dc-49e2-9564-dd2b7465bad0"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"{{VS_NAME}}-ad-servers\",\r\n    \"adminEncryptedPassword\": \"admin\",\r\n    \"adminName\": \"admin\",\r\n    \"cleanupCache\": \"none\",\r\n    \"domain\": \"f5lab.local\",\r\n    \"groupCacheTtl\": 30,\r\n    \"kdcLockoutDuration\": 0,\r\n    \"locationSpecific\": \"true\",\r\n    \"padata\": \"none\",\r\n    \"pool\": \"/Common/{{VS_NAME}}-ad-pool\",  \r\n    \"psoCacheTtl\": 30,\r\n    \"timeout\": 15,\r\n    \"usePool\": \"enabled\",\r\n    \"domainControllers\": [\r\n        {\r\n            \"name\": \"dc1.f5lab.local\",\r\n            \"ip\": \"10.1.20.7\"\r\n        }\r\n    ]\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/aaa/active-directory",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"aaa",
												"active-directory"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "JWK",
							"item": [
								{
									"name": "bigip-import ca.acme.com cert",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"ca.f5lab.local.crt installed\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "6bc44a4d-faf8-4c21-9e38-de2df32f9133"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "61e14b67-1242-480b-901d-bb734977fca4"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/octet-stream"
											},
											{
												"key": "Content-Range",
												"value": "0-1263/1264",
												"type": "text"
											},
											{
												"key": "Content-Length",
												"value": "1264",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "-----BEGIN CERTIFICATE-----\r\nMIIDazCCAlOgAwIBAgIQJ4DA+pop3K9HGUl4CIxjbjANBgkqhkiG9w0BAQsFADBI\r\nMRUwEwYKCZImiZPyLGQBGRYFbG9jYWwxFTATBgoJkiaJk/IsZAEZFgVmNWxhYjEY\r\nMBYGA1UEAxMPZGMxLmY1bGFiLmxvY2FsMB4XDTE5MTEyMDIyMDc0NVoXDTI5MTEy\r\nMDIyMTc0NVowSDEVMBMGCgmSJomT8ixkARkWBWxvY2FsMRUwEwYKCZImiZPyLGQB\r\nGRYFZjVsYWIxGDAWBgNVBAMTD2RjMS5mNWxhYi5sb2NhbDCCASIwDQYJKoZIhvcN\r\nAQEBBQADggEPADCCAQoCggEBANOejxrkrJD12YIeEkZNjRZ9/OZwFeX+QhVi1uHL\r\niILP+4+3ZiZ/dhVGQLncDfHlJm5hSXpzMMDK+LxmjnWfBcx8xurgDyL6E80ZTnIP\r\nBbVJ6Au2IWFXM62NK/qsE+5IF0ptAYzDiWjj75njoVQygMNkdWEPxu1N+Ar7WAR4\r\n5xghN2wE7d57iCZ53RmrIeGT6equiihns5nUssoOFh/ny9oR6+yudINlozllHhMB\r\nGRDCEeGC/0mY/LF50hP6vwEbl1ub0J1SlqlvTn3rrX7dumvtjSKxfQipwbCpG8Qz\r\nGi7ZsSe78Xg7VIGtDVk0Vh4+PbHVJ6GB8pUmFpQ4vVa6sY0CAwEAAaNRME8wCwYD\r\nVR0PBAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFNhpUMHsIixtS9g6\r\ny/FyNrayg9V6MBAGCSsGAQQBgjcVAQQDAgEAMA0GCSqGSIb3DQEBCwUAA4IBAQCr\r\nEjJWFyZR3VFoIvZxUztGiWSjELJGD0vH42hONh6GrzxHadhZcQFmQsi4SmS9TUhP\r\nqyj+mUzreWziMcogqTYisSmF6h/cyAujdnLPbR//spGSOvLlV+43P57FmpQ+c+bB\r\nV8CJq3e0uvxt2h/9v5Du20fE/Zb6iPESMSjzhEoCPosozELpEqwKTzwGLsyqgLSN\r\nWW/+Ov+DGr+cE8pHsXZy8yhkbDY5wrbHMCyrRuXFXwYLpoMcUKMOWUCq+K3TSQ2A\r\nmGUtzY3KMfC7YCJj+mrCniWmvncryUpkY3hPplglevWAFQx4hslOU618gt4IpBXy\r\nLlIC0DqyAVMHJqF7WozV\r\n-----END CERTIFICATE-----\r\n"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/file-transfer/uploads/ca.acme.com.crt",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"shared",
												"file-transfer",
												"uploads",
												"ca.acme.com.crt"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-install ca.acme.com cert",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"ca.f5lab.local.crt imported\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});"
												],
												"type": "text/javascript",
												"id": "bd94a0e4-6b57-4efe-8afa-597629a7c873"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\":\"install\",\n\t\"name\":\"ca.acme.com\",\n\t\"from-local-file\":\"/var/config/rest/downloads/ca.acme.com.crt\"\n\t\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/sys/crypto/cert",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"sys",
												"crypto",
												"cert"
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-jwk-public key",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
													"",
													"if (responseCode.code === 200) {",
													"pm.test(\"OAuth JWK \"+VS_NAME+\"-jwk created\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"} else ",
													"pm.test(\"OAuth JWK \"+VS_NAME+\"-jwk exists\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													""
												],
												"type": "text/javascript",
												"id": "26078216-cf27-49f2-8bee-03158d1fdd0d"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "ef4716b5-d896-485b-92dc-2ce18535a000"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"name\": \"{{VS_NAME}}-jwk\",\n    \"partition\": \"Common\",\n    \"algType\": \"RS256\",\n    \"autoGenerated\": \"false\",\n    \"cert\": \"/Common/acme.com-wildcard\",\n    \"certChain\": \"/Common/ca.acme.com\",\n    \"certKey\": \"/Common/acme.com-wildcard\",\n    \"includeX5c\": \"no\",\n    \"keyId\": \"lab\",\n    \"keyType\": \"rsa\",\n    \"keyUse\": \"signing\",\n    \"passphrase\": \"password\",\n    \"sharedSecretEncFormat\": \"none\",\n    \"useClientSecret\": \"false\"\n    \n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/jwk-config/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"jwk-config",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "OAuth Client",
							"item": [
								{
									"name": "bigip-create-customization group-OAuth Client",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"Customization Group Created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else \r",
													"    pm.test(\"Customization Group Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });"
												],
												"type": "text/javascript",
												"id": "66b91007-4140-43de-93b2-c1323325a0b4"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\r\n    \"name\": \"postman_oauth_authz_client_app_customization\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/standard\",\r\n    \"type\": \"oauth-authz-client-app\"\r\n    \r\n    \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"policy",
												"customization-group",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-OAuth Client",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = JSON.parse(responseBody);\r",
													"pm.collectionVariables.set(\"CLIENT_ID\",jsonData.clientId);\r",
													"pm.collectionVariables.set(\"CLIENT_SECRET\",jsonData.clientSecret);\r",
													"\r",
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"OAuth Client Created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 409) {\r",
													"    pm.test(\"OAuth Client Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"OAuth Client not found\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "10a8a48c-b519-4480-a499-ab708b5ede2f"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n         \r\n            \"name\": \"postman\",\r\n            \"partition\": \"Common\",\r\n            \"accessTokenLifetime\": 5,\r\n            \"appName\": \"postman\",\r\n            \"authCodeLifetime\": 5,\r\n            \"authType\": \"none\",\r\n            \"customizationGroup\": \"/Common/postman_oauth_authz_client_app_customization\",\r\n            \"generateJwtRefreshToken\": \"true\",\r\n            \"generateRefreshToken\": \"true\",\r\n            \"grantCode\": \"enabled\",\r\n            \"grantPassword\": \"disabled\",\r\n            \"grantToken\": \"disabled\",\r\n            \"idTokenLifetime\": 5,\r\n            \"jwtAccessTokenLifetime\": 5,\r\n            \"jwtRefreshTokenLifetime\": 60,\r\n            \"openidConnect\": \"enabled\",\r\n            \"redirectUris\": [\r\n                \"https://www.getpostman.com/oauth2/callback\"\r\n            ],\r\n            \"refreshTokenLifetime\": 480,\r\n            \"refreshTokenUsageLimit\": 64,\r\n            \"reuseAccessToken\": \"false\",\r\n            \"reuseRefreshToken\": \"false\",\r\n            \"useProfileTokenMgmtSettings\": \"true\"\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-client-app",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"oauth-client-app"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Oauth Claims",
							"item": [
								{
									"name": "bigip-create-OAuth-claim-groups",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"OAuth Claim Named group Created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 409) {\r",
													"    pm.test(\"OAuth Claim Named group Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"OAuth Claim Named group Found\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "3c2f65c4-645c-4b28-bb12-54a7d8ae818d"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n         \r\n            \"name\": \"groups\",\r\n            \"partition\": \"Common\",\r\n            \"claimName\": \"groups\",\r\n            \"claimType\": \"string\",\r\n            \"claimValue\": \"%{session.ad.last.attr.memberOf}\"\r\n            \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-claim/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"oauth-claim",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-OAuth-claim-client",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"OAuth Claim Named client created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 409) {\r",
													"    pm.test(\"OAuth Claim Named client Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"OAuth Claim Named client not found\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "fcaf351b-fc2c-482a-856a-aba75afdb5a3"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n         \r\n    \"name\": \"client\",\r\n    \"partition\": \"Common\",\r\n    \"claimName\": \"client\",\r\n    \"claimType\": \"string\",\r\n    \"claimValue\": \"%{session.oauth.authz.client_id}\"\r\n            \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-claim/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"oauth-claim",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-OAuth-claim-groupid",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"OAuth Claim Named groupid Created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 409) {\r",
													"    pm.test(\"OAuth Claim Named groupid Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"OAuth Claim Named groupid not found\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "ef27c903-506d-48a4-b5d1-19a671a4c538"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n         \r\n    \"name\": \"groupid\",\r\n    \"partition\": \"Common\",\r\n    \"claimName\": \"groupid\",\r\n    \"claimType\": \"string\",\r\n    \"claimValue\": \"%{session.ad.last.attr.title}\"\r\n            \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-claim/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"oauth-claim",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-OAuth-claim-org",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"OAuth Claim Named org Created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 409) {\r",
													"    pm.test(\"OAuth Claim Named org Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"OAuth Claim Named org not found\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "03493a2f-4a54-4085-a84b-60265f3bb3bd"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n         \r\n    \"name\": \"org\",\r\n    \"partition\": \"Common\",\r\n    \"claimName\": \"org\",\r\n    \"claimType\": \"string\",\r\n    \"claimValue\": \"%{session.ad.last.attr.company}\"\r\n            \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-claim/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"oauth-claim",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-OAuth-claim-tier",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"OAuth Claim Named tier Created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 409) {\r",
													"    pm.test(\"OAuth Claim Named tier Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"OAuth Claim Named tier Not Found\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "4e69de6d-8bc1-4277-8959-38ec7e7596bb"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n         \r\n    \"name\": \"tier\",\r\n    \"partition\": \"Common\",\r\n    \"claimName\": \"tier\",\r\n    \"claimType\": \"string\",\r\n    \"claimValue\": \"%{session.ad.last.attr.department}\"\r\n            \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-claim/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"oauth-claim",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "bigip-create-OAuth-claim-user",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"if (responseCode.code === 200) {\r",
													"    pm.test(\"OAuth Claim Named user Created\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (responseCode.code === 409) {\r",
													"    pm.test(\"OAuth Claim Named user Exists\", function () {\r",
													"        pm.response.to.have.status(409);\r",
													"    });\r",
													"} else\r",
													"    pm.test(\"OAuthClaim Named user Not Found\", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"id": "f1e8102d-4dca-44bf-9ae4-cede72d26a66"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n         \r\n    \"name\": \"user\",\r\n    \"partition\": \"Common\",\r\n    \"claimName\": \"user\",\r\n    \"claimType\": \"string\",\r\n    \"claimValue\": \"%{session.logon.last.username}\"\r\n            \r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/oauth/oauth-claim/",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"oauth",
												"oauth-claim",
												""
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "OAuth Profile",
							"item": [
								{
									"name": "bigip-create-oauthprofile",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
													"",
													"if (responseCode.code === 200) {",
													"    pm.test(\"OAuth profile \"+VS_NAME+\"-oauth created\", function () {",
													"        pm.response.to.have.status(200);",
													"    });",
													"} else ",
													"    pm.test(\"OAuth Profile \"+VS_NAME+\"-oauth exists\", function () {",
													"        pm.response.to.have.status(409);",
													"    });",
													""
												],
												"type": "text/javascript",
												"id": "2788e959-1a6f-467f-aaab-8f0de90d60dd"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "088f3c2e-c31d-4ef3-a5b9-284091766e52"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "X-F5-REST-Coordination-Id",
												"type": "text",
												"value": "{{TRANSID}}",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\n    \"name\": \"{{VS_NAME}}-oauth\",\n    \"partition\": \"Common\",\n    \"accessTokenLifetime\": 5,\n    \"authCodeLifetime\": 5,\n\t\n    \"authUrl\": \"/f5-oauth2/v1/authorize\",\n    \"dbInstance\": \"/Common/oauthdb\",\n    \"defaultsFrom\": \"/Common/oauth\",\n    \"generateJwtRefreshToken\": \"true\",\n    \"generateRefreshToken\": \"true\",\n    \"idTokenLifetime\": 5,\n\t\"idTokenPrimaryKey\": \"/Common/{{VS_NAME}}-jwk\",\n    \"ignoreExpiredCert\": \"false\",\n    \"issuer\": \"https://{{DNS1_NAME}}\",\n    \"jwksUrl\": \"/f5-oauth2/v1/jwks\",\n    \"jwtAccessTokenLifetime\": 120,\n    \"jwtEcSignatureFormat\": \"binary\",\n    \"jwtRefreshTokenEncSecret\": \"123456\",\n    \"jwtRefreshTokenLifetime\": 120,\n    \"jwtToken\": \"enabled\",\n    \"opaqueToken\": \"disabled\",\n    \"openidCfgUrl\": \"/f5-oauth2/v1/.well-known/openid-configuration\",\n    \"openidConnect\": \"enabled\",\n    \"perUserTokenLimit\": 255,\n    \"primaryKey\": \"/Common/{{VS_NAME}}-jwk\",\n    \"refreshTokenLifetime\": 480,\n    \"refreshTokenUsageLimit\": 64,\n    \"reuseAccessToken\": \"false\",\n    \"reuseRefreshToken\": \"false\",\n    \"subject\": \"%{session.assigned.uuid}\",\n    \"tokenIntrospectionUrl\": \"/f5-oauth2/v1/introspect\",\n    \"tokenIssuanceUrl\": \"/f5-oauth2/v1/token\",\n    \"tokenRevocationUrl\": \"/f5-oauth2/v1/revoke\",\n    \"userinfoUrl\": \"/f5-oauth2/v1/userinfo\",\n\t\"clientApps\": [\n                \n               \"/Common/postman\",\n    ],\n\t\"idTokenClaims\": {\n                \n               \n    },\n\t\"jwtAccessTokenClaims\": [\n             \"/Common/client\",\n             \"/Common/groupid\",\n             \"/Common/groups\",\n             \"/Common/org\",\n             \"/Common/tier\",\n             \"/Common/user\"\n\n                \n    ],\t\t\n\t\"resourceServers\": {\n                \n                \n            },\n\t\"rotationKeys\": {\n               \n                \n            },\n    \"userinfoClaims\": {\n                \n                \n            }\n}\t\n"
										},
										"url": {
											"raw": "https://10.1.1.4/mgmt/tm/apm/profile/oauth",
											"protocol": "https",
											"host": [
												"10",
												"1",
												"1",
												"4"
											],
											"path": [
												"mgmt",
												"tm",
												"apm",
												"profile",
												"oauth"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "End APM Objects",
							"item": [
								{
									"name": "end-apm-1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "16091f14-068c-4857-9c36-efdd5b96a39b"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "ebe7419f-828d-4bdc-b3cb-b0a199363b19"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "8c7338a9-3c88-4273-8c26-dc089b80051a"
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "1af0560b-315e-4a22-bc90-2bca88ae0b12"
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "PSP",
					"item": [
						{
							"name": "start PSP",
							"item": [
								{
									"name": "start-psp-1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"//The NUMBER SPECIFICED BELOW CONTROL WHICH VIRTUAL THE OBJECTS WILL BE CONFIGURED FOR.  THE DEFAULT IS 1.\r",
													"var VS = 1;\r",
													"\r",
													"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
													"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");\r",
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
													"\r",
													"\r",
													"\r",
													"\r",
													"if (VS === VS_COUNTER) {\r",
													"    pm.test(\"Creating APM PSP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"} else if (VS<=VS_COUNTER) {\r",
													"    pm.test(\"Proceeding to creation of APM PSP for Virtual Server \"+VS_NAME+\" in Data Center \"+DC_COUNTER, function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"    postman.setNextRequest(\"end-psp-\"+VS);\r",
													"} else {\r",
													"pm.test(\"Currently running loop \"+VS_COUNTER+\" for \"+ VS_NAME+\" in Data Center \"+DC_COUNTER+\". Continuing to next section \", function () {\r",
													"        pm.response.to.have.status(200);\r",
													"    });\r",
													"    postman.setNextRequest(\"end-psp-\"+VS);\r",
													"}"
												],
												"type": "text/javascript",
												"id": "d82c173a-f44e-42d8-85a1-6dcc1bbff40d"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "00450677-1181-40dd-ad05-54849f7de069"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "5ad6c153-c9b2-444d-a071-6b26a73e55e7"
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "4d9b76ad-f962-4638-beb4-77ba9d1751dc"
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Baseline Policy",
							"item": [
								{
									"name": "Create Transaction",
									"item": [
										{
											"name": "bigip-create transaction",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"var jsonData = JSON.parse(responseBody);",
															"pm.collectionVariables.set(\"TRANSID\", jsonData.transId);",
															"",
															"",
															"pm.test(\"Transaction Created\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															""
														],
														"type": "text/javascript",
														"id": "9ac78062-d3e2-4c97-9888-8b224d1f7272"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "fa4a6d1d-34a7-4943-bf28-8a7d82bc8660"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"transaction"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Baseline Customization Groups",
									"item": [
										{
											"name": "bigip-create-customization group-logout",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "cc240e27-2e4b-4be1-a0e0-482f2cca6a72"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_logout\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-customization group-eps",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "15e148e0-9926-4e9a-886f-d4ac1d7f376b"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_eps\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"eps\"\r\n    \r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-customization group-error map",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "3609be9c-3f5e-4dc2-b8b2-af47e19cb73c"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_errormap\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"errormap\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-customization group-framework",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "173416e5-73d2-4855-9fe5-936aecfe3f38"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n   \r\n     \"name\": \"{{VS_NAME}}-psp_framework_installation\",\r\n\t \"partition\": \"Common\",\r\n     \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n     \"type\": \"framework-installation\"\r\n    \r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-customization group-general ui",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "d9186ec6-42ef-4667-950f-9ad44613abcc"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_general_ui\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"general-ui\"\r\n    \r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Deny Ending",
									"item": [
										{
											"name": "bigip-create-customization group-end deny",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "9b4fc707-54a1-48fd-93d2-c8d4e06bbddc"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logout\"\r\n    \r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-agent-deny ending",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "7960ea30-801a-4ed1-ba9a-0b1e58f0cc88"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\n\"partition\": \"Common\",\n\"customizationGroup\": \"/Common/{{VS_NAME}}-psp_end_deny_ag\"\n\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-deny/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"ending-deny",
														""
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-policy item-Deny ending",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "ae7c41d0-fc58-4741-9e7c-36994ee2b7ef"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"value": "{{TRANSID}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_deny\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Deny\",\r\n    \"color\": 2,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_deny_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-deny\"\r\n\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Allow Ending",
									"item": [
										{
											"name": "bigip-create-agent-allow ending",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "d82d12b9-bfdf-4ca2-b44a-bee1ce6e4fa3"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"value": "{{TRANSID}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\"name\": \"{{VS_NAME}}-psp_end_allow_ag\",\n\"partition\": \"Common\"\n\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/ending-allow/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"ending-allow",
														""
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-policy item-allow ending",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "4e27578a-1a32-49f5-9bb5-1411a83b0fb4"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"value": "{{TRANSID}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_end_allow\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Allow\",\r\n    \"color\": 1,\r\n    \"itemType\": \"ending\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_allow_ag\",\r\n\t\t\t\"partition\": \"Common\",\r\n            \"type\": \"ending-allow\"\r\n\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-item OAuth Authorization",
									"item": [
										{
											"name": "bigip1-create-cusomization group-oauth",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "b7707ea3-23c3-4634-9594-f04ee0d37d23"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_act_oauth_authz_ag\",\r\n    \"partition\": \"Common\",   \r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"oauth-authz\"\r\n  \r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group",
														""
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip1-create-agent-oauth",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "34767fb8-26f6-4fa3-af7b-501b455ba4f2"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_act_oauth_authz_ag\",\r\n    \"partition\": \"Common\",\r\n    \"customizationGroup\": \"/Common/{{VS_NAME}}-psp_act_oauth_authz_ag\",\r\n    \"promptForAuthorization\": \"false\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/oauth-authz",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"oauth-authz"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip1-create-policy item-OAuth",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "a4242265-4edc-462b-ad13-c96299cc2197"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_act_oauth_authz\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"OAuth Authorization\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_oauth_authz_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"oauth-authz\"\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Successful\",\r\n            \"expression\": \"expr {[mcget {session.oauth.authz.last.result}] == 1}\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_end_allow\"\r\n            \r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_end_deny\"\r\n            \r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-item AD Query",
									"item": [
										{
											"name": "bigip-create-agent-AD Query",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "07dd1cc7-7aa7-46a4-867e-966a0e03263a"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"name\": \"{{VS_NAME}}-psp_act_active_directory_query_ag\",\n    \"partition\": \"Common\",\n    \"authMaxLogonAttempt\": 3,\n    \"fetchNestedGroups\": \"false\",\n    \"fetchPrimaryGroup\": \"false\",\n    \"hints\": \"false\",\n    \"maxPwdResetAttempt\": 3,\n    \"pwdComplexityCheck\": \"false\",\n    \"pwdExpiryWarnDays\": 0,\n    \"queryAttrname\": [\n        \"cn\",\n        \"displayName\",\n        \"distinguishedName\",\n        \"dn\",\n        \"employeeID\",\n        \"givenName\",\n        \"homeMDB\",\n        \"mail\",\n        \"memberOf\",\n        \"mobile\",\n        \"msDS-ResultantPSO\",\n        \"name\",\n        \"objectGUID\",\n        \"otherMobile\",\n        \"pager\",\n        \"primaryGroupID\",\n        \"pwdLastSet\",\n        \"sAMAccountName\",\n        \"sn\",\n        \"telephoneNumber\",\n        \"userAccountControl\",\n        \"userPrincipalName\"\n    ],\n    \"queryFilter\": \" (sAMAccountName=%{session.logon.last.username})\",\n    \"server\": \"/Common/{{VS_NAME}}-ad-servers\",\n    \"showExtendedError\": \"false\",\n    \"type\": \"query\",\n    \"upn\": \"false\"\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/aaa-active-directory",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"aaa-active-directory"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-policy item-AD Query",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "08cfcac6-227e-464d-9e60-e3cf349960b8"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_act_active_directory_query\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"AD Query\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_active_directory_query_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"aaa-active-directory\"\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"AD Query Passed\",\r\n            \"expression\": \"expr {[mcget {session.ad.last.queryresult}] == 1}\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_act_oauth_authz\"\r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_end_deny\"  \r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item",
														""
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												],
												"id": "497216b9-6642-49f4-804d-c1e28a159c84"
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												],
												"id": "92c99c9a-75c6-4896-91ad-329a2b12ab35"
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-item AD Auth",
									"item": [
										{
											"name": "bigip-create-agent-AD Authentication",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "7ec7aaf2-8b57-4a98-a4ff-04729ec916d6"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"name\": \"{{VS_NAME}}-psp_act_active_directory_auth_ag\",\r\n    \"partition\": \"Common\",\r\n    \"authMaxLogonAttempt\": 3,\r\n    \"fetchNestedGroups\": \"false\",\r\n    \"fetchPrimaryGroup\": \"false\",\r\n    \"hints\": \"false\",\r\n    \"maxPwdResetAttempt\": 3,\r\n    \"pwdComplexityCheck\": \"false\",\r\n    \"pwdExpiryWarnDays\": 0,\r\n    \"server\": \"/Common/{{VS_NAME}}-ad-servers\",\r\n    \"showExtendedError\": \"false\",\r\n    \"type\": \"auth\",\r\n    \"upn\": \"false\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/aaa-active-directory",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"aaa-active-directory"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-policy item-AD Authentication",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "0bbf907f-7226-47fe-a869-ec6609dc241f"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_act_active_directory_auth\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"AD Auth\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_active_directory_auth_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"aaa-active-directory\"\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"Successful\",\r\n            \"expression\": \"expr {[mcget {session.ad.last.authresult}] == 1}\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_act_active_directory_query\"\r\n\r\n        },\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_end_deny\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item",
														""
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												],
												"id": "eae5aad3-b4cb-4e83-81dc-52ad965e0da3"
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												],
												"id": "6a0c3255-d82e-4006-b5e0-3ec3796c3177"
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Policy-item Logon Page",
									"item": [
										{
											"name": "bigip-create-customization group-Logon Page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "f7def49c-62ee-4f8f-8614-fbe8b0d9b299"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_act_logon_page_ag\",\r\n    \"partition\": \"Common\",\r\n    \"source\": \"/Common/{{CUSTOM_TYPE}}\",\r\n    \"type\": \"logon\"\r\n\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/customization-group",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"customization-group"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-agent-Logon Page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "fca95ba7-ea8b-4fc2-b429-f475df038c3a"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_act_logon_page_ag\",\r\n    \"partition\": \"Common\",\r\n      \"citrixClientAuthType\": \"domain-only\",\r\n    \"cleanSessVar1\": \"false\",\r\n    \"cleanSessVar2\": \"false\",\r\n    \"cleanSessVar3\": \"false\",\r\n    \"cleanSessVar4\": \"false\",\r\n    \"cleanSessVar5\": \"false\",\r\n    \"customizationGroup\": \"/Common/{{VS_NAME}}-psp_act_logon_page_ag\",\r\n    \"fieldModifiable1\": \"true\",\r\n    \"fieldModifiable2\": \"true\",\r\n    \"fieldModifiable3\": \"true\",\r\n    \"fieldModifiable4\": \"true\",\r\n    \"fieldModifiable5\": \"true\",\r\n    \"fieldType2\": \"password\",\r\n    \"fieldType3\": \"none\",\r\n    \"fieldType4\": \"none\",\r\n    \"fieldType5\": \"none\",\r\n    \"fieldtype1\": \"text\",\r\n    \"http_401AuthLevel\": \"none\",\r\n    \"postVarName1\": \"username\",\r\n    \"postVarName2\": \"password\",\r\n    \"postVarName3\": \"field3\",\r\n    \"postVarName4\": \"field4\",\r\n    \"postVarName5\": \"field5\",\r\n    \"sessVarName1\": \"username\",\r\n    \"sessVarName2\": \"password\",\r\n    \"sessVarName3\": \"field3\",\r\n    \"sessVarName4\": \"field4\",\r\n    \"sessVarName5\": \"field5\",\r\n    \"splitUsername\": \"false\",\r\n    \"type\": \"form-based\",\r\n    \"vmwareViewLogonScreen\": \"windows-password\"\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/agent/logon-page",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"agent",
														"logon-page"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip-create-policy item-Logon Page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "e94c130a-35ad-48fe-b4b9-250ecb55bdb1"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_act_logon_page\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Logon Page\",\r\n    \"color\": 1,\r\n    \"itemType\": \"action\",\r\n    \"loop\": \"false\",\r\n    \"agents\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_logon_page_ag\",\r\n            \"partition\": \"Common\",\r\n            \"type\": \"logon-page\"\r\n\r\n        }\r\n    ],\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_act_active_directory_auth\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Start Item",
									"item": [
										{
											"name": "bigip-create-policy item-start",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "7b51f64b-c8dd-426a-9929-63824ba32fa5"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp_ent\",\r\n    \"partition\": \"Common\",\r\n    \"caption\": \"Start\",\r\n    \"color\": 1,\r\n    \"itemType\": \"entry\",\r\n    \"loop\": \"false\",\r\n    \"rules\": [\r\n        {\r\n            \"caption\": \"fallback\",\r\n            \"nextItem\": \"/Common/{{VS_NAME}}-psp_act_logon_page\"\r\n\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/policy-item/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"policy-item",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create Policy",
									"item": [
										{
											"name": "bigip-create-policy",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "29dbf648-871e-4e68-88b3-aee1b9ad907b"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \"defaultEnding\": \"{{VS_NAME}}-psp_end_deny\",\r\n        \"maxMacroLoopCount\": 1,\r\n    \"oneshotMacro\": \"false\",\r\n    \"startItem\": \"{{VS_NAME}}-psp_ent\",\r\n    \"type\": \"access-policy\",\r\n    \"items\": [\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_oauth_authz\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_active_directory_query\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_active_directory_auth\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_act_logon_page\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_allow\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_end_deny\",\r\n            \"partition\": \"Common\"\r\n        },\r\n        {\r\n            \"name\": \"{{VS_NAME}}-psp_ent\",\r\n            \"partition\": \"Common\"\r\n        }\r\n    ]\r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/policy/access-policy/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"policy",
														"access-policy",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Create Profile",
									"item": [
										{
											"name": "profile-oauth",
											"item": [
												{
													"name": "bigip-create-profile",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	""
																],
																"type": "text/javascript",
																"id": "d65e7850-b4ba-4b1a-abce-6738bc3ad5d2"
															}
														}
													],
													"request": {
														"auth": {
															"type": "basic",
															"basic": [
																{
																	"key": "password",
																	"value": "admin",
																	"type": "string"
																},
																{
																	"key": "username",
																	"value": "admin",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/json"
															},
															{
																"key": "X-F5-REST-Coordination-Id",
																"type": "text",
																"value": "{{TRANSID}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\r\n\r\n    \"name\": \"{{VS_NAME}}-psp\",\r\n    \"partition\": \"Common\",\r\n    \"acceptLanguages\": [\r\n        \"en\"\r\n    ],\r\n    \"accessPolicy\": \"/Common/{{VS_NAME}}-psp\",\r\n    \"customizationGroup\": \"/Common/{{VS_NAME}}-psp_logout\",\r\n    \"epsGroup\": \"/Common/{{VS_NAME}}-psp_eps\",\r\n    \"errormapGroup\": \"/Common/{{VS_NAME}}-psp_errormap\",\r\n    \"frameworkInstallationGroup\": \"/Common/{{VS_NAME}}-psp_framework_installation\",\r\n    \"generalUiGroup\": \"/Common/{{VS_NAME}}-psp_general_ui\",\r\n    \"accessPolicyTimeout\": 300,\r\n    \"defaultLanguage\": \"en\",\r\n    \"httponlyCookie\": \"false\",\r\n    \"inactivityTimeout\": 900,\r\n    \"logoutUriTimeout\": 5,\r\n    \"maxConcurrentSessions\": 0,\r\n    \"maxConcurrentUsers\": 0,\r\n    \"maxFailureDelay\": 5,\r\n    \"maxInProgressSessions\": 128,\r\n    \"maxSessionTimeout\": 604800,\r\n    \"minFailureDelay\": 2,\r\n    \"modifiedSinceLastPolicySync\": \"false\",\r\n    \"oauthProfile\": \"/Common/{{VS_NAME}}-oauth\",\r\n    \"persistentCookie\": \"false\",\r\n    \"restrictToSingleClientIp\": \"false\",\r\n    \"scope\": \"profile\",\r\n    \"secureCookie\": \"true\",\r\n    \"type\": \"all\",\r\n    \"useHttp_503OnError\": \"false\",\r\n    \"userIdentityMethod\": \"http\",\r\n    \"logSettings\": [\r\n        \"/Common/default-log-setting\"\r\n    ]\r\n\r\n}"
														},
														"url": {
															"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/",
															"protocol": "https",
															"host": [
																"{{BIGIP_MGMT}}"
															],
															"path": [
																"mgmt",
																"tm",
																"apm",
																"profile",
																"access",
																""
															]
														}
													},
													"response": []
												}
											],
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														],
														"id": "52b0ba01-5971-427f-89c1-196835801992"
													}
												},
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														],
														"id": "5e6c7368-e4a0-47c2-85ab-9c2e2147fd66"
													}
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Commit Transaction",
									"item": [
										{
											"name": "bigip-commit-transaction",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");\r",
															"\r",
															"if (responseCode.code === 200) {\r",
															"\r",
															"    pm.test(VS_NAME+\"-psp created\", function () {\r",
															"        pm.response.to.have.status(200);\r",
															"    });\r",
															"} else \r",
															"    pm.test(VS_NAME+\"-psp exists\", function () {\r",
															"        pm.response.to.have.status(409);\r",
															"    });\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"id": "0fac1104-7e62-4af2-8226-ab9f11328581"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}",
														"disabled": true
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n \"state\":\"VALIDATING\"\t\n\t\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/transaction/{{TRANSID}}/",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"transaction",
														"{{TRANSID}}",
														""
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Apply Policy",
									"item": [
										{
											"name": "bigip-apply policy",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
															"\r",
															"\r",
															"pm.test(\"Apply Policy Successful for \" +VS_NAME+\"-psp\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});"
														],
														"type": "text/javascript",
														"id": "563c5021-b693-4c3d-bb6f-c74f3b748bea"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													},
													{
														"key": "X-F5-REST-Coordination-Id",
														"type": "text",
														"value": "{{TRANSID}}",
														"disabled": true
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n \"generationAction\": \"increment\"   \r\n}"
												},
												"url": {
													"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/apm/profile/access/~Common~{{VS_NAME}}-psp",
													"protocol": "https",
													"host": [
														"{{BIGIP_MGMT}}"
													],
													"path": [
														"mgmt",
														"tm",
														"apm",
														"profile",
														"access",
														"~Common~{{VS_NAME}}-psp"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "End PSP",
							"item": [
								{
									"name": "end-psp-1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "befef947-fe32-4911-970f-8e7531e7b484"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "5fdc16f5-887c-463c-bc72-8eb68f694ae2"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"info"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "b0311307-347d-4828-b316-01e18aa663d0"
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "a48b243a-1375-4edf-9fe9-7add3057d15d"
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Virtual Server Address Assignment",
					"item": [
						{
							"name": "bigip-Check Scope for existing assignment",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");\r",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var jsonData = pm.response.json();\r",
											"var EXIST = 0\r",
											"\r",
											"\r",
											"\r",
											"if(!jsonData.length) {\r",
											"    if ( jsonData.Description  === VS_NAME ) {\r",
											"        pm.collectionVariables.set(\"BIGIP_ADDRESS\"+VS_COUNTER, jsonData.IPAddress.IPAddressToString );\r",
											"        pm.collectionVariables.set(\"BIGIP_ADDRESS\", pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER));\r",
											"        var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER);\r",
											"        postman.setNextRequest(\"end-address\");\r",
											"        var EXIST = 1;\r",
											"        if (responseCode.code === 200) {\r",
											"            pm.test(\"Existing Address \"+ADDR+\" assigned to \"+VS_NAME, function () {\r",
											"                pm.response.to.have.status(200);\r",
											"            });\r",
											"        }\r",
											"    }\r",
											"} else {\r",
											"\r",
											"  for (var i = 0; i < jsonData.length; i++) {\r",
											"\r",
											"        if ( jsonData[i].Description  === VS_NAME ) {   \r",
											"            pm.collectionVariables.set(\"BIGIP_ADDRESS\"+VS_COUNTER, jsonData[i].IPAddress.IPAddressToString );\r",
											"            pm.collectionVariables.set(\"BIGIP_ADDRESS\", pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER));\r",
											"            var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER);\r",
											"            postman.setNextRequest(\"end-address\");\r",
											"            var EXIST =1;\r",
											"\r",
											"            if (responseCode.code === 200) {\r",
											"                pm.test(\"Existing Address \"+ADDR+\" assigned to \"+VS_NAME, function () {\r",
											"                    pm.response.to.have.status(200);\r",
											"                });\r",
											"            }\r",
											"        } \r",
											"    }\r",
											"} \r",
											"\r",
											"if (EXIST === 0) {\r",
											"    if (responseCode.code === 200) {\r",
											"        pm.test(\"No Address assigned to \"+VS_NAME , function () {\r",
											"            pm.response.to.have.status(200);\r",
											"        }); \r",
											"    }\r",
											"}\r",
											""
										],
										"type": "text/javascript",
										"id": "73f88195-e967-4530-8b37-3bfa80457c3c"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "http://10.1.20.6:81/addr/scope-status?scope={{BIGIP_SCOPE}}",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"scope-status"
									],
									"query": [
										{
											"key": "scope",
											"value": "{{BIGIP_SCOPE}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-Check for next available address",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var jsonData = pm.response.json();\r",
											"\r",
											"\r",
											"pm.collectionVariables.set(\"BIGIP_ADDRESS\"+VS_COUNTER,jsonData.address);\r",
											"pm.collectionVariables.set(\"BIGIP_ADDRESS\", pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER));\r",
											"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER)\r",
											"\r",
											"pm.test(\"Next availble address is \"+ADDR, function () {\r",
											"    pm.expect(jsonData.address).not.eql(null);\r",
											"});"
										],
										"type": "text/javascript",
										"id": "ba9aebfc-a26f-43a6-b006-4822f707699b"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://10.1.20.6:81/addr/available?scope={{BIGIP_SCOPE}}",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"available"
									],
									"query": [
										{
											"key": "scope",
											"value": "{{BIGIP_SCOPE}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-Check bigip for existing address",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\");\r",
											"var jsonData = pm.response.json();\r",
											"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\"+VS_COUNTER)\r",
											"var exist = 0\r",
											"\r",
											"\r",
											" if (responseCode.code === 200) {\r",
											"  if(!jsonData.length) {\r",
											"       for (var i = 0; i < jsonData.items.length; i++) {\r",
											"            if ( jsonData.items[i].destination.includes(ADDR)) {  \r",
											"               var VS_NAME = jsonData.items[i].name \r",
											"                    \r",
											"                    pm.test(ADDR+\" in use by Virtual server \"+VS_NAME, function () {\r",
											"                        pm.response.to.have.status(200);\r",
											"                    });\r",
											"\r",
											"                    pm.collectionVariables.set(\"EXISTING_VS\", VS_NAME); \r",
											"\r",
											"                    var exist = 1    \r",
											"            }\r",
											"        }\r",
											" }\r",
											"  if (exist === 0) {\r",
											"     pm.test(\"Address \"+ADDR+\" not configured on BIG-IP\", function () {\r",
											"        pm.response.to.have.status(200);\r",
											"    });\r",
											"    postman.setNextRequest(\"bigip-checkout-address\");\r",
											"  }\r",
											" \r",
											" }\r",
											" \r",
											"\r",
											""
										],
										"type": "text/javascript",
										"id": "2de86b7e-bd00-4769-b6e9-4e1b8ebe49f5"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/tm/ltm/virtual/",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"tm",
										"ltm",
										"virtual",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-checkout-address-exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\");",
											"var VS_NAME = pm.collectionVariables.get(\"EXISTING_VS\");",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Address \"+ADDR+\" checked out for \"+VS_NAME+\". Looking for next available Address\", function () {",
											"    pm.expect(jsonData.status).not.eql(\"Fail\");",
											"});",
											"postman.setNextRequest(\"bigip-Check Scope for existing assignment\");"
										],
										"type": "text/javascript",
										"id": "030513de-7f79-4cd7-b725-0699cf039ff6"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"scope\":\"{{BIGIP_SCOPE}}\",\n\"address\":\"{{BIGIP_ADDRESS}}\",\n\"name\":\"{{EXISTING_VS}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/addr/checkout",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"checkout"
									]
								}
							},
							"response": []
						},
						{
							"name": "bigip-checkout-address",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS\");",
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Address \"+ADDR+\" checked out for \"+VS_NAME, function () {",
											"    pm.expect(jsonData.status).not.eql(\"Fail\");",
											"});"
										],
										"type": "text/javascript",
										"id": "8d603ec3-af3f-449a-9377-7cd83568fa08"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"scope\":\"{{BIGIP_SCOPE}}\",\n\"address\":\"{{BIGIP_ADDRESS}}\",\n\"name\":\"{{VS_NAME}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/addr/checkout",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"addr",
										"checkout"
									]
								}
							},
							"response": []
						},
						{
							"name": "end-address",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"id": "682ea951-5600-4a85-92cf-d44978b4ce13"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"id": "abdb4cb5-7906-4fd9-8a06-b64630a8405d"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "7261ac19-e0d8-4b5c-9188-e91c72a71c53"
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "078a7ffc-db41-4a68-98d5-326e3c3719bf"
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End Loop - Imperative Calls",
					"item": [
						{
							"name": "loop-objects",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var VIPS = pm.collectionVariables.get(\"VIPS\");",
											"var VS_COUNTER = pm.collectionVariables.get(\"VS_COUNTER\")",
											"var DNS_COUNTER = pm.collectionVariables.get(\"DNS_COUNTER\")",
											"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
											"",
											"if (VS_COUNTER < VIPS ) {",
											"    pm.test(\"Objects for Virutal Server \"+VS_NAME+\" completed.  Creating loop for next virtual server \" , function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"    VS_COUNTER++",
											"    DNS_COUNTER++",
											"",
											"pm.collectionVariables.set(\"VS_COUNTER\", VS_COUNTER)",
											"pm.collectionVariables.set(\"DNS_COUNTER\", DNS_COUNTER)",
											"",
											"postman.setNextRequest(\"start-objects\");",
											"",
											"",
											"} else {",
											"    pm.test(\"Objects for Virtual Server \"+VS_NAME+\" Ccmpleted.  All objects created\" , function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"  pm.collectionVariables.set(\"VS_COUNTER\", 1)",
											"   pm.collectionVariables.set(\"DNS_COUNTER\", 1)",
											"}",
											"",
											"",
											""
										],
										"type": "text/javascript",
										"id": "98fa79b0-af90-4d7b-b0d5-24b79db0df69"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"id": "d6f869dd-17a7-4ef8-a021-34fdded6a936"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "17f2f3bf-ffef-4676-a720-f0f91da5d184"
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "5c3eedf4-4b8b-4860-9f8c-cc079e741286"
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Applications",
					"item": [
						{
							"name": "SIngle Tenant-1 VIP-no ServerSSL-Attach PSP",
							"item": [
								{
									"name": "bigip-create-application",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var VS_NAME = pm.collectionVariables.get(\"VS_NAME\");",
													"",
													"pm.test(\"Application \"+VS_NAME+\" created\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript",
												"id": "296af5cd-dad0-47f3-9219-3944013ebcd0"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"id": "4ecaa102-4f63-4812-b90f-80fd2439733a"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"class\": \"ADC\",\r\n    \"action\": \"deploy\",\r\n    \"persist\": true,\r\n    \"declaration\": {\r\n       \"class\": \"ADC\",\r\n       \"schemaVersion\": \"3.14.0\",\r\n       \"id\": \"APM\",\r\n       \"{{PARTITION_NAME}}\": {\r\n          \"class\": \"Tenant\",\r\n          \"{{VS1_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{VS1_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                 \"{{BIGIP_ADDRESS1}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{VS1_NAME}}-clientssl\",\r\n        \t\t\"snat\": \"auto\",\r\n        \t\t\"profileAccess\": {\r\n        \t\t\t\"bigip\": \"/Common/{{VS1_NAME}}-psp\"\r\n        \t\t   }\r\n                },\r\n                \"{{VS1_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                }\r\n \r\n\r\n            }\r\n       }\r\n    }\r\n\r\n}"
										},
										"url": {
											"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/declare",
											"protocol": "https",
											"host": [
												"{{BIGIP_MGMT}}"
											],
											"path": [
												"mgmt",
												"shared",
												"appsvcs",
												"declare"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "562c1c59-ba62-4e83-9249-daea62585ad4"
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										],
										"id": "389beb72-4432-46ac-8b22-8f2569c5e290"
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "External DNS",
					"item": [
						{
							"name": "Single Application",
							"item": [
								{
									"name": "Create DC1 External DNS Configuration for SIngle App",
									"item": [
										{
											"name": "bigip5-Test AS3 is running",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var DC2_APM = pm.environment.get(\"DC2_APM\");",
															"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
															"",
															"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
															"    postman.setNextRequest(\"end-dns-dc1\");",
															"    pm.test(\"Proceeding to DC2 DNS Configuration\", function () {",
															"        pm.response.to.have.status(200);",
															"    });",
															"",
															"} else {",
															"",
															"  ",
															"}",
															""
														],
														"type": "text/javascript",
														"id": "0814fe80-353d-4a8f-9c0d-f85367ed8d93"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "ded9fad9-9357-461c-8917-6e746de86ee9"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"shared",
														"appsvcs",
														"info"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Create-DC1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (responseCode.code === 200) {",
															"",
															"pm.test(\"DC1 Created\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"} else ",
															"pm.test(\"DC1 Exists\", function () {",
															"    pm.response.to.have.status(409);",
															"});",
															""
														],
														"type": "text/javascript",
														"id": "789ee910-f365-4be2-88b7-51e7934d4f22"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "c4ab84d3-2794-4806-a214-c16bb7232646"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\"name\":\"DC1\"\n}"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/datacenter",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"datacenter"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Create-bigip1 server",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (responseCode.code === 200) {",
															"",
															"pm.test(\"bigip1 server Created\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"} else ",
															"pm.test(\"bigip1 server Exists\", function () {",
															"    pm.response.to.have.status(409);",
															"});",
															""
														],
														"type": "text/javascript",
														"id": "e44a04f7-ecae-4f5d-8281-7c504e799eba"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "6b4b0807-eb76-4fdb-abc9-bf0d0752bfb2"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n            \"name\": \"bigip1.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.4\",\r\n                    \"deviceName\": \"bigip1.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"server"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Create-bigip5 server",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (responseCode.code === 200) {",
															"",
															"pm.test(\"bigip5 server Created\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"} else ",
															"pm.test(\"bigip5 server Exists\", function () {",
															"    pm.response.to.have.status(409);",
															"});",
															"",
															"setTimeout(function(){}, 2000);"
														],
														"type": "text/javascript",
														"id": "fc37b3e1-6037-4934-a028-adf1d86b028c"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "dba0eb0d-eef2-4882-98f4-89b1b1424179"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n            \"name\": \"bigip5.f5lab.local\",\r\n            \"datacenter\": \"/Common/DC1\",\r\n            \"enabled\": true,\r\n            \"exposeRouteDomains\": \"no\",\r\n            \"iqAllowPath\": \"yes\",\r\n            \"iqAllowServiceCheck\": \"yes\",\r\n            \"iqAllowSnmp\": \"yes\",\r\n            \"limitCpuUsage\": 0,\r\n            \"limitCpuUsageStatus\": \"disabled\",\r\n            \"limitMaxBps\": 0,\r\n            \"limitMaxBpsStatus\": \"disabled\",\r\n            \"limitMaxConnections\": 0,\r\n            \"limitMaxConnectionsStatus\": \"disabled\",\r\n            \"limitMaxPps\": 0,\r\n            \"limitMaxPpsStatus\": \"disabled\",\r\n            \"limitMemAvail\": 0,\r\n            \"limitMemAvailStatus\": \"disabled\",\r\n            \"linkDiscovery\": \"disabled\",\r\n            \"monitor\": \"/Common/bigip\",\r\n  \r\n            \"product\": \"bigip\",\r\n            \"virtualServerDiscovery\": \"disabled\",\r\n            \"addresses\": [\r\n                {\r\n                    \"name\": \"10.1.10.11\",\r\n                    \"deviceName\": \"bigip5.f5lab.local\",\r\n                    \"translation\": \"none\"\r\n                }\r\n            ]\r\n\r\n        }\r\n"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"server"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Add bigip1 application VS to Server",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
															"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\")",
															"",
															"if (responseCode.code === 200) {",
															"",
															"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to Server bigip1.f5lab.local\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"} else ",
															"pm.test(\"Virtual Server \"+VS_NAME+\" exists on server bigip1.f5lab.local\", function () {",
															"    pm.response.to.have.status(409);",
															"});"
														],
														"type": "text/javascript",
														"id": "fea7e13f-2186-4db0-8ff6-6db563c2f0ac"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "ae1211d0-e24f-42e0-8946-288b7f081719"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS1}}:443\"\r\n}"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip1.f5lab.local/virtual-servers/",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"server",
														"~Common~bigip1.f5lab.local",
														"virtual-servers",
														""
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Create WideIP using AS3",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "641fb7af-ce72-4f00-8d21-50f692671940",
														"exec": [
															"var DNS_NAME = pm.collectionVariables.get(\"VS1_NAME\");\r",
															"\r",
															"\r",
															"if (responseCode.code === 200) {\r",
															"\r",
															"pm.test(\"Wide IP \"+DNS_NAME+\" Created\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"} else \r",
															"pm.test(\"Wide IP \"+DNS_NAME+\" exists\", function () {\r",
															"    pm.response.to.have.status(409);\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "9bf28006-9c39-41e9-9e98-fa689431bddb",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n \"class\": \"ADC\",\r\n    \"schemaVersion\": \"3.6.0\",\r\n    \"id\": \"GSLB_Sample\",\r\n    \"{{PARTITION_NAME}}-gslb\": {\r\n        \"class\": \"Tenant\",\r\n        \"{{VS1_NAME}}\": {\r\n            \"class\": \"Application\",\r\n            \"template\": \"generic\",\r\n            \"testDomain\": {\r\n                \"class\": \"GSLB_Domain\",\r\n                \"domainName\": \"{{DNS1_NAME}}\",\r\n                \"resourceRecordType\": \"A\",\r\n                \"poolLbMode\": \"ratio\",\r\n                \"lastResortPool\": {\"use\": \"{{VS1_NAME}}-pool\"},\r\n                \"lastResortPoolType\": \"A\",\r\n                \"pools\": [\r\n                              { \"use\": \"{{VS1_NAME}}-pool\" }\r\n                ]\r\n            },\r\n            \"{{VS1_NAME}}-pool\": {\r\n               \"class\": \"GSLB_Pool\",\r\n                \"enabled\": true,\r\n                \"lbModeAlternate\": \"ratio\",\r\n                \"lbModeFallback\": \"ratio\",\r\n                \"manualResumeEnabled\": false,\r\n                \"verifyMemberEnabled\": true,\r\n                \"members\": [\r\n                \t{\r\n                \t\"ratio\":10,\r\n                \t\"server\": {\r\n                \t\t\"bigip\": \"/Common/bigip1.f5lab.local\"\r\n                \t\t},\r\n                \t\t\"virtualServer\":\"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\"\r\n                \t}\r\n                ],\r\n                \"resourceRecordType\": \"A\"\r\n            }\r\n        }\r\n    }\r\n \r\n}"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/shared/appsvcs/declare",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"shared",
														"appsvcs",
														"declare"
													]
												}
											},
											"response": []
										},
										{
											"name": "end-dns-dc1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var DC2_APM = pm.environment.get(\"DC2_APM\");",
															"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
															"",
															"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
															"   ",
															"} else {",
															"",
															"    postman.setNextRequest(\"end-dns-dc2\");",
															"    pm.collectionVariables.set('DC_COUNTER', '1' );",
															"    pm.test(\"Skipping DC2 DNS Configuration\", function () {",
															"        pm.response.to.have.status(200);",
															"    });",
															"",
															"}",
															""
														],
														"type": "text/javascript",
														"id": "7ce6a118-469f-410b-b240-1ea14e00191e"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "2edad806-fbd9-40df-96aa-9321b7164255"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"shared",
														"appsvcs",
														"info"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Add DC2 External DNS Configuration for Single App",
									"item": [
										{
											"name": "start-dns-dc2",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var DC2_APM = pm.environment.get(\"DC2_APM\");",
															"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
															"",
															"if (DC2_APM === 'true' && DC_COUNTER === '2') {",
															"   ",
															"} else {",
															"",
															"    postman.setNextRequest(\"end-dns-dc2\");",
															"    pm.collectionVariables.set('DC_COUNTER', '1' );",
															"    pm.test(\"Skipping DC2 DNS Configuration\", function () {",
															"        pm.response.to.have.status(200);",
															"    });",
															"",
															"}",
															""
														],
														"type": "text/javascript",
														"id": "80b08050-4e8f-475f-a1d0-45a35c674b9c"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "b229a794-668d-448a-968f-21e271362b1e"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"shared",
														"appsvcs",
														"info"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-exist-bigip2",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"var jsonData = pm.response.json();\r",
															"\r",
															"    for (var i = 0; i < jsonData.items.length; i++) {\r",
															"\r",
															"        if (jsonData.items[i].name === \"bigip2.f5lab.local\") {\r",
															"            pm.test(\"BIGIP2 already exists\", function () {\r",
															"                pm.response.to.have.status(200);\r",
															"            });\r",
															"            postman.setNextRequest(\"bigip5-Add bigip2 Application VS to Server\");\r",
															"        }\r",
															"    }\r",
															"\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"id": "6308af27-a256-4ca9-87e3-b776c53c6614"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "76717482-e84d-43e0-ab27-c0b4cd92e585"
													}
												}
											],
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"server"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip_add - bigip2 to bigip5",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"bigip_add command successfully run\", function () {\r",
															"pm.response.to.have.status(200);\r",
															"});"
														],
														"type": "text/javascript",
														"id": "84fc71f3-2789-4c3b-8964-6f90bcc12587"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\t\"command\":\"run\",\r\n\t\"options\":[\r\n\t\t{\r\n\t\t\t\"ssh-password\":\"admin\",\r\n\t\t\t\"admin@10.1.1.5\":\"\"\r\n\t\t}\r\n\t]\r\n} "
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/bigip_add",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"bigip_add"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip2.f5lab.local - big3d_install",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"big3d_install command successfully run\", function () {\r",
															"pm.response.to.have.status(200);\r",
															"});"
														],
														"type": "text/javascript",
														"id": "e4d8373e-03fa-45b2-8b41-47b6238ca539"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\t\"command\":\"run\",\r\n\t\"options\":[\r\n\t\t{\r\n\t\t\t\"ssh-password\":\"admin\",\r\n\t\t\t\"admin@10.1.1.5\":\"\"\r\n\t\t}\r\n\t]\r\n} "
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/big3d_install",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"big3d_install"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Create-DC2",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (responseCode.code === 200) {",
															"",
															"pm.test(\"DC2 Created\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"} else ",
															"pm.test(\"DC2 Exists\", function () {",
															"    pm.response.to.have.status(409);",
															"});",
															""
														],
														"type": "text/javascript",
														"id": "56470182-09d2-4b91-a605-c2c97b9384a3"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "465beebc-9880-48dc-8082-b2f1402a6337"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\"name\":\"DC2\"\n}"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/datacenter",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"datacenter"
													]
												}
											},
											"response": []
										},
										{
											"name": "Add Server -  BIG-IP2 to BIG-IP5",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (responseCode.code === 200) {\r",
															"\r",
															"    pm.test(\"BIG-IP2 added\", function () {\r",
															"        pm.response.to.have.status(200);\r",
															"    });\r",
															"} else\r",
															"    pm.test(\"BIG-IP2 already Exists\", function () {\r",
															"        pm.response.to.have.status(409);\r",
															"    });\r",
															"\r",
															"setTimeout(function(){}, 2000);"
														],
														"type": "text/javascript",
														"id": "bf844c71-7fbe-48b7-b649-3f0a9f6c6a29"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"bigip2.f5lab.local\",\n\t\"datacenter\": \"/Common/DC2\",\n\t\"virtualServerDiscovery\": \"disabled\",\n\t        \"addresses\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\":\"10.1.10.5\",\n\t\t\t\t\t\"deviceName\": \"bigip2.f5lab.local\",\n\t\t\t\t\t\"translation\": \"none\"\n\t\t\t\t}\n\t\t\t]\n\t\n}"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/server",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"server"
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Add bigip2 Application VS to Server",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
															"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\")",
															"",
															"if (responseCode.code === 200) {",
															"",
															"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to server bigip2.f5lab.local\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"} else ",
															"pm.test(\"Virtual Server \"+VS_NAME+\" exists on server bigip2.f5lab.local\", function () {",
															"    pm.response.to.have.status(409);",
															"});",
															"",
															"setTimeout(function(){},5000);"
														],
														"type": "text/javascript",
														"id": "ff9ae399-8ba2-4ed2-a9e4-1774b7adef15"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "69c6b8e9-7afa-44a9-9f28-7cc4172848f8"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\"name\": \"/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\",\r\n\"destination\": \"{{BIGIP_ADDRESS1}}:443\"\r\n}"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/server/~Common~bigip2.f5lab.local/virtual-servers/",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"server",
														"~Common~bigip2.f5lab.local",
														"virtual-servers",
														""
													]
												}
											},
											"response": []
										},
										{
											"name": "bigip5-Add bigip2 application to WideIP Pool",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "dda0b38f-f56b-4bbc-8f60-75594e5b2db6"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"var NAME = pm.collectionVariables.get(\"DNS1_NAME\");",
															"var VS_NAME = pm.collectionVariables.get(\"VS1_NAME\");",
															"var ADDR = pm.collectionVariables.get(\"BIGIP_ADDRESS1\")",
															"",
															"",
															"",
															"if (responseCode.code === 200) {",
															"",
															"pm.test(\"Virtual Server \"+VS_NAME+\" with IP Address \"+ADDR+\" added to Wide IP \"+NAME, function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"} else ",
															"pm.test(\"Virtual Server \"+VS_NAME+\" exists on Wide IP \"+NAME, function () {",
															"    pm.response.to.have.status(409);",
															"});",
															"",
															""
														],
														"type": "text/javascript",
														"id": "74e76f2e-0293-47d0-afc6-ce5988048bb9"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n\"name\":\"bigip2.f5lab.local:/{{PARTITION_NAME}}/{{PATH_NAME}}/{{VS1_NAME}}\"\r\n\t\r\n\t\r\n}"
												},
												"url": {
													"raw": "https://10.1.1.11/mgmt/tm/gtm/pool/a/~{{PARTITION_NAME}}-gslb~{{VS1_NAME}}~{{VS1_NAME}}-pool/members",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"tm",
														"gtm",
														"pool",
														"a",
														"~{{PARTITION_NAME}}-gslb~{{VS1_NAME}}~{{VS1_NAME}}-pool",
														"members"
													]
												}
											},
											"response": []
										},
										{
											"name": "end-dns-dc2",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "c0de1eae-137a-4857-9720-d073621aa2df"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript",
														"id": "7f5d29b0-cade-491c-be68-0eea9b654476"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "https://10.1.1.11/mgmt/shared/appsvcs/info",
													"protocol": "https",
													"host": [
														"10",
														"1",
														"1",
														"11"
													],
													"path": [
														"mgmt",
														"shared",
														"appsvcs",
														"info"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Internal DNS",
					"item": [
						{
							"name": "create-dns-a-record",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var DNS_NAME = pm.collectionVariables.get(\"DNS_NAME\");   ",
											"var jsonData = pm.response.json();",
											"",
											"\tif (jsonData.length) {",
											"",
											"        if (jsonData[1].status === \"exists\") {",
											"            pm.test(\"A Record \"+DNS_NAME+\" Exists\", function () {",
											"                pm.expect(jsonData[1].status).to.eql(\"exists\");",
											"            });",
											"        }",
											"    } else ",
											"        pm.test(\"A Record \"+DNS_NAME+\" created\", function () {",
											"            pm.expect(jsonData.status).to.eql(\"Success\");",
											"        });",
											"",
											"       ",
											"    ",
											""
										],
										"type": "text/javascript",
										"id": "127e9f94-24ff-4edb-a593-f0e274d27e30"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"record_type\":\"a\",\n\"fqdn\":\"{{DNS1_NAME}}\",\n\"computer_ip\":\"{{BIGIP_ADDRESS}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/dns",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"dns"
									]
								}
							},
							"response": []
						},
						{
							"name": "create-dns-ptr-record",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"\tif (jsonData.length) {",
											"        if (jsonData[1].status === \"exists\") {",
											"            pm.test(\"PTR Record Exists\", function () {",
											"                pm.expect(jsonData[1].status).to.eql(\"exists\");",
											"            });",
											"        }",
											"    } else {",
											"        pm.test(\"PTR Record created\", function () {",
											"            pm.expect(jsonData.status).to.eql(\"Success\");",
											"        });",
											"}"
										],
										"type": "text/javascript",
										"id": "356242c5-fd39-4eb9-bb35-096a5d366ef7"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"record_type\":\"ptr\",\n\"fqdn\":\"{{DNS1_NAME}}\",\n\"computer_ip\":\"{{BIGIP_ADDRESS}}\"\n}"
								},
								"url": {
									"raw": "http://10.1.20.6:81/dns",
									"protocol": "http",
									"host": [
										"10",
										"1",
										"20",
										"6"
									],
									"port": "81",
									"path": [
										"dns"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "End loop Datacenters",
					"item": [
						{
							"name": "loop",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var DC2_APM = pm.environment.get(\"DC2_APM\");",
											"var DC_COUNTER = pm.collectionVariables.get(\"DC_COUNTER\");",
											"",
											"if (DC2_APM === 'true' && DC_COUNTER === '1') {",
											"    postman.setNextRequest(\"start\");",
											"    pm.collectionVariables.set('DC_COUNTER', '2' );",
											"",
											"    pm.test(\"Application created in DC1. Beginning DC2 Deployment\", function () {",
											"        pm.response.to.have.status(200);",
											"    });",
											"",
											"",
											"} else if (DC2_APM === 'false' && DC_COUNTER === '1') {",
											"    pm.test(\"Application created in DC1 \", function () {",
											"        pm.expect(pm.environment.get(\"DC2_APM\")).to.equal(\"false\");",
											"    });",
											"",
											"} else {",
											"    pm.test(\"Application created in DC2 \", function () {",
											"        pm.expect(pm.environment.get(\"DC2_APM\")).to.equal(\"true\");",
											"    });",
											"    pm.collectionVariables.set('DC_COUNTER', '1' );",
											"}",
											""
										],
										"type": "text/javascript",
										"id": "993a087d-3940-4123-b470-ac51ded2b425"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"id": "1c841500-6f5f-4431-b1dd-15f3430c8946"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{BIGIP_MGMT}}/mgmt/shared/appsvcs/info",
									"protocol": "https",
									"host": [
										"{{BIGIP_MGMT}}"
									],
									"path": [
										"mgmt",
										"shared",
										"appsvcs",
										"info"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "04a65592-219d-41b5-a97b-511dd83bbcdf"
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								],
								"id": "0a2e9cc5-a956-41ab-ab57-612f71a99ee5"
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				],
				"id": "d13ce236-f204-4688-b404-673620b9878f"
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				],
				"id": "97f142b7-196b-45f2-8969-92e0806d8ad1"
			}
		}
	],
	"variable": [
		{
			"id": "d4477424-a1a5-43b6-bdf0-a39f28b058d3",
			"key": "APP_NAME",
			"value": ""
		},
		{
			"id": "6b7166ae-91d6-46e6-8aae-4287c2cb6a30",
			"key": "CLIENT_SSL_NAME",
			"value": ""
		},
		{
			"id": "8b56aa93-e9a7-4090-a5e0-621bb3224cdc",
			"key": "DNS_RESOLVER_NAME",
			"value": ""
		},
		{
			"id": "8e38867d-2ce9-4e3c-a578-7a8f0b9c341d",
			"key": "PARTITION_NAME",
			"value": ""
		},
		{
			"id": "3bdc32d2-9001-4e36-9591-07394908b2a6",
			"key": "PATH_NAME",
			"value": ""
		},
		{
			"id": "595ec9b1-7370-4694-9e0f-a29b75a83789",
			"key": "CONFLICT1_NAME",
			"value": ""
		},
		{
			"id": "eb9fe769-7061-47b1-88ed-92a4830fd1f6",
			"key": "CUSTOM_TYPE",
			"value": ""
		},
		{
			"id": "99a29f80-a45e-4d23-bc84-36ae56b31cb4",
			"key": "DNS1_NAME",
			"value": ""
		},
		{
			"id": "0e36beb0-67dc-4058-bbd7-df1718d28f3d",
			"key": "DNS2_NAME",
			"value": ""
		},
		{
			"id": "f58928b0-85de-4bbe-9daf-ab00b026f418",
			"key": "VIPS",
			"value": ""
		},
		{
			"id": "4d2f5301-7cc2-44ec-865d-0e83fa5ec287",
			"key": "VS1_NAME",
			"value": ""
		},
		{
			"id": "8906773a-0393-4724-bf5e-6d0d4b1ce021",
			"key": "VS2_NAME",
			"value": ""
		},
		{
			"id": "be1654bb-d9aa-4f7f-bead-1da82ccadf24",
			"key": "BIGIP_MGMT",
			"value": ""
		},
		{
			"id": "a1bbae28-1f38-41d4-809b-394ece434682",
			"key": "BIGIP_SCOPE",
			"value": ""
		},
		{
			"id": "acb9707e-6d95-4a85-90bf-53562c0ca6f6",
			"key": "DC_COUNTER",
			"value": ""
		},
		{
			"id": "1d512845-86a4-46e6-bf8f-9af2dca9e784",
			"key": "DNS_COUNTER",
			"value": ""
		},
		{
			"id": "fdb476fd-4aa1-4170-85f4-29d49edaefe4",
			"key": "DNS_NAME",
			"value": ""
		},
		{
			"id": "af769a81-387a-46e7-bc01-3bbcb1a0f5aa",
			"key": "VS_COUNTER",
			"value": ""
		},
		{
			"id": "1f9e0702-64c2-4aea-a25e-9abeea02f49b",
			"key": "VS_NAME",
			"value": ""
		},
		{
			"id": "366621b3-10a5-4ec4-b42b-a93711c8bb1e",
			"key": "TRANSID",
			"value": ""
		},
		{
			"id": "dd376aab-33bf-464b-a030-5024afc0b751",
			"key": "BIGIP_ADDRESS",
			"value": ""
		},
		{
			"id": "5f23909a-426f-4366-bc60-169bb0b1e0ae",
			"key": "BIGIP_ADDRESS1",
			"value": ""
		},
		{
			"id": "4876bfe1-478f-42b1-b07c-58d00a8485c8",
			"key": "CLIENT_ID",
			"value": ""
		},
		{
			"id": "906ee67e-831d-4fd1-9f30-5ab5878c7390",
			"key": "CLIENT_SECRET",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}